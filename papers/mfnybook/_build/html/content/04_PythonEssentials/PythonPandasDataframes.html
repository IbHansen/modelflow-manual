

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>2. Some Python basics &#8212; The World Bank&#39;s MFMod Framework in Python with Modelflow</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/04_PythonEssentials/PythonPandasDataframes';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="4. Modelflow extensions to pandas" href="UpdateCommand.html" />
    <link rel="prev" title="1. Introduction to Jupyter Notebook" href="Intro_Jupyter_notebook.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../introduction.html">
  
  
  
  
  
    <p class="title logo__title">The World Bank's MFMod Framework in Python with Modelflow</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../introduction.html">
                    Foreword
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">The World Bank's MFMod Framework and Modelflow</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../01_Introduction/Introduction.html">1. Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../02_MacrostructuralModels/MacroStructuralModels.html">1.4. Macrostructural models</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../02_MacrostructuralModels/MFModAndModelFlow.html">2. Modelflow and the MFMod models of the World Bank</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../03_Installation/InstallingPython.html">2.1. Installation of Modelflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03_Installation/InstallingModelFlow.html">2.2. Installation of Modelflow</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Some python essentials for using WorldBank models with modelflow</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Intro_Jupyter_notebook.html">1. Introduction to  Jupyter Notebook</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. Some Python basics</a></li>

<li class="toctree-l1 has-children"><a class="reference internal" href="UpdateCommand.html">4. Modelflow extensions to pandas</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="mfcalc.html">4.2. <code class="docutils literal notranslate"><span class="pre">.mfcalc()</span></code> an extension of standard Pandas</a></li>

</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Using modelflow with World Bank models</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../06_WBModels/LoadingWBModel.html">1. Using <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> with World Bank models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_WBModels/ScenarioAnalysis.html">2. Scenario analysis</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/IbHansen/modelflow-manual/blob/AndrewEdits/papers/mfbook/content/04_PythonEssentials/PythonPandasDataframes.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>



<a href="https://github.com/IbHansen/modelflow-manual" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/04_PythonEssentials/PythonPandasDataframes.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Some Python basics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">2. Some Python basics</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-python-in-windows">2.1. Starting python in windows</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#anaconda-navigator">2.2. Anaconda navigator</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-packages-libraries-and-classes">2.3. Python  packages, libraries and classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-packages-libraries-modules-and-classes">2.4. Importing packages, libraries, modules and classes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-specific-elements-or-classes-from-a-module-or-library">2.4.1. Import specific elements or classes from a module or library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-a-class-but-give-it-an-alias">2.4.2. import a class but give it an alias</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-aliases">2.4.3. Standard aliases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-pandas-dataframes">3. Introduction to Pandas dataframes</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-pandas-library">3.1. Import the pandas library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pandas-class-series">3.2. The <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> class <code class="docutils literal notranslate"><span class="pre">series</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series-declared-from-a-list">3.2.1. Series declared from a list</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series-declared-using-a-specific-index">3.2.2. Series declared using a specific index</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-series-from-a-dictionary">3.2.3. Create Series from a dictionary</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#properties-and-methods-of-dataframes-in-modelflow">3.3. Properties and methods of dataframes in modelflow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframes">3.3.1. dataframes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-or-instantiating-a-dataframe">3.3.2. Creating or instantiating a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-a-column-to-a-dataframe">3.3.3. Adding a column to a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#revising-values">3.3.4. Revising values</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#column-names-in-modelflow">3.4. Column names in  Modelflow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#index-and-time-dimensions-in-modelflow">3.5. .index and time dimensions in Modelflow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leads-and-lags">3.5.1. Leads and lags</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#columns-lists-the-column-names-of-a-dataframe">3.5.2. .columns lists the column names of a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size-indicates-the-dimension-of-a-list">3.5.3. .size indicates the dimension of a list</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eval-evaluates-calculates-an-expression-on-the-data-of-a-dataframe">3.5.4. .eval() evaluates calculates an expression on the data of a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-selects-a-portion-slice-of-a-dataframe">3.5.5. .loc[] selects a portion (slice) of a dataframe</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-row-column-a-single-element">3.5.5.1. .loc[row,column] A single element</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-column-a-single-column">3.5.5.2. .loc[:,column] A single column</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-row-a-single-row">3.5.5.3. .loc[row,:] A single row</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-names-several-columns">3.5.5.4. .loc[:,[names…]] Several columns</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-using-the-colon-to-select-a-range">3.5.5.5. .loc using the colon to select a range</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-can-also-be-used-on-the-left-hand-side-to-assign-values-to-specific-cells">3.5.5.6. .loc[] can also be used on the left hand side to assign values to specific cells</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="some-python-basics">
<h1><span class="section-number">2. </span>Some Python basics<a class="headerlink" href="#some-python-basics" title="Permalink to this headline">#</a></h1>
<p>Before using <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> with the World Bank’s MFMod models, users  will have to understand at least some basic elements of <code class="docutils literal notranslate"><span class="pre">python</span></code> syntax and usage.  Notably they will need to understand about packages, libraries and classes, how to access them.</p>
<section id="starting-python-in-windows">
<h2><span class="section-number">2.1. </span>Starting python in windows<a class="headerlink" href="#starting-python-in-windows" title="Permalink to this headline">#</a></h2>
<p>To begin using <code class="docutils literal notranslate"><span class="pre">modelflow</span></code>, python itself needs to be started.  This can be done either using the <code class="docutils literal notranslate"><span class="pre">Anaconda</span></code> navigator or from the command line shell. In either case, the user will need to start python and select the <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> environment.</p>
</section>
<section id="anaconda-navigator">
<h2><span class="section-number">2.2. </span>Anaconda navigator<a class="headerlink" href="#anaconda-navigator" title="Permalink to this headline">#</a></h2>
<ol class="arabic simple">
<li><p>Start Anaconda Navigator by typing Anaconda in the Start window and opening the Navigator (see Figure).</p></li>
<li><p>From Anaconda Navigator select the <code class="docutils literal notranslate"><span class="pre">Modelflow</span></code> environment (see figure)</p></li>
</ol>
<figure class="align-default" id="start-anaconda-navigator">
<a class="reference internal image-reference" href="../../_images/AnacondaNav1.png"><img alt="../../_images/AnacondaNav1.png" src="../../_images/AnacondaNav1.png" style="height: 180px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.1 </span><span class="caption-text">A newly created Jupyter Notebook session</span><a class="headerlink" href="#start-anaconda-navigator" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<ol class="arabic simple" start="3">
<li><p>Once the environment is selected the user can either select a command line environment or start jupyter notebook by clicking on either the</p>
<ol class="arabic simple">
<li><p>Jupyter Notebook environment</p></li>
<li><p>The command line environment</p></li>
<li><p>A programming IDE environment</p></li>
</ol>
</li>
</ol>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../../_images/NavigatorChoices.png"><img alt="../../_images/NavigatorChoices.png" src="../../_images/NavigatorChoices.png" style="height: 180px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.2 </span><span class="caption-text">A newly created Jupyter Notebook session</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="python-packages-libraries-and-classes">
<h2><span class="section-number">2.3. </span>Python  packages, libraries and classes<a class="headerlink" href="#python-packages-libraries-and-classes" title="Permalink to this headline">#</a></h2>
<p>Some features of <code class="docutils literal notranslate"><span class="pre">python</span></code> are built-in out-of-the-box.  Others build up on these basic features.</p>
<p>A <strong>python class</strong> is a code template that defines a python object. Classes can have properties [variables or data] associated with them and methods (behaviours or functions) associated with them. In python a class is created by the keyword class. An object of type class is created (instantiated) using the class’s “constructor” – a special method that creates an object that is an instance of a class.</p>
<p>A <strong>module</strong> is a Python object consisting of Python code. A module can define functions, classes and variables. A module can also include runnable code.</p>
<p>A <strong>python package</strong> is a collection of modules that are related to each other. When a module from an external package is required by a program, that package (or module in the package) must  be <strong>imported</strong> into the current session for its modules can be put to use.</p>
<p>A <strong>python library</strong> is a collection of related modules or packages.</p>
<p><code class="docutils literal notranslate"><span class="pre">Modelflow</span></code> is a python package that <em>inherits</em> (build on or adds to) the methods and properties of other <code class="docutils literal notranslate"><span class="pre">python</span></code> classes like <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code> and <code class="docutils literal notranslate"><span class="pre">mathplotlib</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In modelflow the model is a class and we can create an instance of a model (an object filled with the characteristics of the class) by executing the code <code class="docutils literal notranslate"><span class="pre">mymodel</span> <span class="pre">=</span> <span class="pre">model(myformulas)</span></code> see below for a working example.</p>
</div>
</section>
<section id="importing-packages-libraries-modules-and-classes">
<h2><span class="section-number">2.4. </span>Importing packages, libraries, modules and classes<a class="headerlink" href="#importing-packages-libraries-modules-and-classes" title="Permalink to this headline">#</a></h2>
<p>Some libraries, packages, and modules are part of the core python package and will be available (importable) from the get-go.  Others are not, and need to be installed before importing them into a session.</p>
<p>If you followed the modelflow installation instructions you have already downloaded and installed on your computer all the packages necessary for running World Bank models under modelflow.  But to work with them in a given Jupyter Notebook session or in a program context, you will also need to <code class="docutils literal notranslate"><span class="pre">import</span></code> them into your session before you call them.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Installation</strong> of a package is not the same as <strong>import</strong>ing a package. To be imported a package must be installed once on the computer that wishes to use it.  Once it has been installed, the package must be imported into each python session where it is to be used.</p>
</div>
<p>Typically a python program will start with the importation of the libraries, classes and modules that will be used.  Because a Jupyter Notebook is essentially a heavily annotated program, it also requires that packages used be imported.</p>
<p>As described above packages, libraries and modules are containers that can include other elements.  Take for example the package Math.</p>
<p>To import the Math Package we execute the command <code class="docutils literal notranslate"> <span class="pre">import</span> <span class="pre">math</span></code>.  Having done that we can can call the functions and data that are defined in it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the &quot;#&quot;&quot; in a code cell indicates a comment, test after the # will not be executed</span>
<span class="kn">import</span> <span class="nn">math</span>

<span class="c1"># Now that we have imported math we can access some of the elements identified in the package, </span>
<span class="c1"># For example math contains a definition for pi, we can access that by executing the pi method </span>
<span class="c1"># of the library math</span>
<span class="n">math</span><span class="o">.</span><span class="n">pi</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.141592653589793
</pre></div>
</div>
</div>
</div>
<section id="import-specific-elements-or-classes-from-a-module-or-library">
<h3><span class="section-number">2.4.1. </span>Import specific elements or classes from a module or library<a class="headerlink" href="#import-specific-elements-or-classes-from-a-module-or-library" title="Permalink to this headline">#</a></h3>
<p>The python package <code class="docutils literal notranslate"><span class="pre">math</span></code> contains several functions and classes.</p>
<p>If I want I can import them directly. Then when I call them I will not have to precede them with the name of their libary. to do this I use the <strong>from</strong> syntax.  <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">math</span> <span class="pre">import</span> <span class="pre">pi,cos,sin</span></code> will import the pi constant and the two functions cos and sin and allow me to call them directly.</p>
<p>Compared these calls with the one in the preceding section – there the call to the method pi has to be preceded by its namespace designator math.  i.e. <code class="docutils literal notranslate"><span class="pre">math.pi</span></code>. Below we import pi directly and can just call it with pi.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span><span class="n">cos</span><span class="p">,</span><span class="n">sin</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.141592653589793
-0.9899924966004454
</pre></div>
</div>
</div>
</div>
</section>
<section id="import-a-class-but-give-it-an-alias">
<h3><span class="section-number">2.4.2. </span>import a class but give it an alias<a class="headerlink" href="#import-a-class-but-give-it-an-alias" title="Permalink to this headline">#</a></h3>
<p>A class and instead of using its full name as above or it can be given an alias, that is hopefully shorter but still obvious enough that the user knows what class is being referred to.</p>
<p>For example  <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">math</span> <span class="pre">as</span> <span class="pre">m</span></code> allows a call to pi using the more succint syntax <code class="docutils literal notranslate"><span class="pre">m.py</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span> <span class="k">as</span> <span class="nn">m</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.141592653589793
-0.9899924966004454
</pre></div>
</div>
</div>
</div>
</section>
<section id="standard-aliases">
<h3><span class="section-number">2.4.3. </span>Standard aliases<a class="headerlink" href="#standard-aliases" title="Permalink to this headline">#</a></h3>
<p>Some packages are so frequently used that by convention they have been “assigned” specific aliases.</p>
<p>For example:</p>
<p><strong>Common aliases</strong></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Alias</p></th>
<th class="text-left head"><p>aliased package</p></th>
<th class="text-left head"><p>example</p></th>
<th class="text-left head"><p>functionalty</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>pd</p></td>
<td class="text-left"><p>pandas</p></td>
<td class="text-left"><p>import pandas as pd</p></td>
<td class="text-left"><p>Pandas are used for storing and retriveing data</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>np</p></td>
<td class="text-left"><p>numpy</p></td>
<td class="text-left"><p>import numpy as np</p></td>
<td class="text-left"><p>Numpy gives access to some advanced mathematical features</p></td>
</tr>
</tbody>
</table>
<p>You don’t have to use those conventions but it will make your code easier to read by others who are familiar with it.</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="introduction-to-pandas-dataframes">
<h1><span class="section-number">3. </span>Introduction to Pandas dataframes<a class="headerlink" href="#introduction-to-pandas-dataframes" title="Permalink to this headline">#</a></h1>
<p>Modelflow is built on top of the Pandas library. Pandas is the Swiss knife of data science and can perform an impressing array of date oriented tasks.</p>
<p>This tutorial is a very short introduction to how pandas dataframes are used with Modelflow. For a more complete discussion see any of the many tutorials on the internet, notably:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/">Pandas homepage</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/tutorials.html">Pandas community tutorials</a></p></li>
</ul>
<section id="import-the-pandas-library">
<h2><span class="section-number">3.1. </span>Import the pandas library<a class="headerlink" href="#import-the-pandas-library" title="Permalink to this headline">#</a></h2>
<p>As with any python program, in order to use a package or library it must first be imported into the session. As noted above, by  convention pandas is imported as pd</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
</pre></div>
</div>
</div>
</div>
<p>Pandas, like any library, contains many classes and methods.  The discussion below focuses on <strong>Series</strong> and <strong>DataFrames</strong> two classes that are part of the pandas library.  Both <code class="docutils literal notranslate"><span class="pre">series</span></code> and <code class="docutils literal notranslate"><span class="pre">dataframes</span></code> are containers that can be used to store time-series data and that have associated with them a number of very useful methods for displaying and manipulating time-series data.<br />
Unlike other statistical packages neither <code class="docutils literal notranslate"><span class="pre">series</span></code> nor <code class="docutils literal notranslate"><span class="pre">dataframes</span></code> are inherently or exclusively time-series in nature.  <code class="docutils literal notranslate"><span class="pre">Modelflow</span></code> and macro-economists use them in this way, but the classes themselves are not dated in anyway out-of-the-box.</p>
</section>
<section id="the-pandas-class-series">
<h2><span class="section-number">3.2. </span>The <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> class <code class="docutils literal notranslate"><span class="pre">series</span></code><a class="headerlink" href="#the-pandas-class-series" title="Permalink to this headline">#</a></h2>
<p>A pandas series is class that can be used to instantiate an object that holds a two dimensional array comprised of values and an index.</p>
<p>The constructor for a <code class="docutils literal notranslate"><span class="pre">Series</span></code> object is <code class="docutils literal notranslate"><span class="pre">pandas.Series()</span></code>.  The content inside the parentheses will determine the nature of the series-object generated.  As an object-oriented language Python supports <code class="docutils literal notranslate"><span class="pre">overrides</span></code> (which is to say a method can have more than one way in which it can be called). Specifically there can be different constructors defined for a class, depending on how the data that is to be used to initialize it is organized.</p>
<section id="series-declared-from-a-list">
<h3><span class="section-number">3.2.1. </span>Series declared from a list<a class="headerlink" href="#series-declared-from-a-list" title="Permalink to this headline">#</a></h3>
<p>The simplest way to create a Series is to pass an array of values as a Python list to the Series constructor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A list in python is a comma delimited collection of items.  It could be text, numbers or even more complex objects.  When declared (and returned) list are enclosed in square brackets.</p>
<p>For example both of the following two lines are perfectly good examples of lists.</p>
<p>mylist=[2,7,8,9]
mylist2=[“Some text”,”Some more Text”,2,3]</p>
<p>The list is entirely agnostic about the type of data it contains.</p>
</div>
<p>In the examples below Simplest, Simple and simple3 are all series – although series3 which is derived from a list mixing text and numeric values would be hard to interpret as an economic series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">]</span>
<span class="n">weird</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Some text&quot;</span><span class="p">,</span><span class="s2">&quot;Some more Text&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="c1"># Here the constructor is passed a numeric list</span>
<span class="n">Simplest</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="n">Simplest</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    2
1    3
2    4
3    5
4    6
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># In this case the constructor is passed a variable that contains a list</span>
<span class="n">simple2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<span class="n">simple2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0     7
1     8
2     9
3    10
4    11
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Here the constructor is passed a variable containing a list that is a mix of </span>
<span class="c1"># alphanumerics and numerical values</span>
<span class="n">simple3</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">weird</span><span class="p">)</span>
<span class="n">simple3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0         Some text
1    Some more Text
2                 2
3                 3
dtype: object
</pre></div>
</div>
</div>
</div>
<p>Note that all three series have different length.</p>
<p>Moreover, constructed in this way (by passing a list to the constructor) each of these <code class="docutils literal notranslate"><span class="pre">Series</span></code> are automatically assigned a zero-based index (a numerial index that starts with 0).</p>
</section>
<section id="series-declared-using-a-specific-index">
<h3><span class="section-number">3.2.2. </span>Series declared using a specific index<a class="headerlink" href="#series-declared-using-a-specific-index" title="Permalink to this headline">#</a></h3>
<p>In this example the series Simple and Simple2 are recreated (overwritten), but this time an index is specified. Here the index is declared as a(nother) list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># In this example the constructor is given both the values </span>
<span class="c1"># and specific values for the index</span>
<span class="n">Simplest</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1966</span><span class="p">,</span><span class="mi">1967</span><span class="p">,</span><span class="mi">1996</span><span class="p">,</span><span class="mi">1999</span><span class="p">,</span><span class="mi">2000</span><span class="p">])</span>
<span class="n">Simplest</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1966    2
1967    3
1996    4
1999    5
2000    6
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">simple2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">values</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">1966</span><span class="p">,</span><span class="mi">1967</span><span class="p">,</span><span class="mi">1996</span><span class="p">,</span><span class="mi">1999</span><span class="p">,</span><span class="mi">2000</span><span class="p">])</span>
<span class="n">simple2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1966     7
1967     8
1996     9
1999    10
2000    11
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Now the Series look more like time series data!</p>
</section>
<section id="create-series-from-a-dictionary">
<h3><span class="section-number">3.2.3. </span>Create Series from a dictionary<a class="headerlink" href="#create-series-from-a-dictionary" title="Permalink to this headline">#</a></h3>
<p>In python a dictionary is a data structure that is more generally known in computer science as an associative array. A dictionary consists of a collection of key-value pairs, where each key-value pair <em>maps</em> or <em>links</em> the key to its associated value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A dictionary is enclosed in curly brackets {}, versus a list which is enclosed in square brackets[].</p>
</div>
<p>Thus mydict={“1966”:2,”1967”:3,”1968”:4,”1969”:5,”2000”:-15} creates an object called mydict.   <code class="docutils literal notranslate"><span class="pre">mydict</span></code>maps (or links) the key “1966” links to the value 2.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example the Key was a string but we could just as easily made it a numerical value:</p>
</div>
<p>mydict2={1966:2,1967:3,1968:4,1969:5,2000:-15} creates an object called mydict2 that links (maps) the key “1966” to the value 2.</p>
<p>The series constructor also accepts a dictionary, and maps the key to the index of the Series.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mydict2</span><span class="o">=</span><span class="p">{</span><span class="mi">1966</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="mi">1967</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="mi">1968</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="mi">1969</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="mi">2000</span><span class="p">:</span><span class="mi">6</span><span class="p">}</span>
<span class="n">simple2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">mydict2</span><span class="p">)</span>
<span class="n">simple2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1966    2
1967    3
1968    4
1969    5
2000    6
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="properties-and-methods-of-dataframes-in-modelflow">
<h2><span class="section-number">3.3. </span>Properties and methods of dataframes in modelflow<a class="headerlink" href="#properties-and-methods-of-dataframes-in-modelflow" title="Permalink to this headline">#</a></h2>
<p>Any class can have both properties (data) and methods (functions that operate on the data of the particular instance of the class). With object-oriented programming languages like python, classes can be built as supersets of existing classes. The Modelflow class <code class="docutils literal notranslate"><span class="pre">model</span></code> inherits or encapsulates all of the features of the pandas dataframe and extends it in many important ways.  Some of the methods below are standard pandas methods, others have been added to it by <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> features</p>
<p>Much more detail on standard pandas dataframes can be found on the <a class="reference external" href="https://pandas.pydata.org/docs/reference/frame.html">official pandas website</a>.</p>
<section id="dataframes">
<h3><span class="section-number">3.3.1. </span>dataframes<a class="headerlink" href="#dataframes" title="Permalink to this headline">#</a></h3>
<p>The dataframe is the primary structure of pandas and is a two-dimensional data structure with named rows and columns.  Each columns can have different data types (numeric, string, etc).</p>
<p>By convention, a dataframe if often called df or some other modifier followed by df, to assist in reading the code.</p>
</section>
<section id="creating-or-instantiating-a-dataframe">
<h3><span class="section-number">3.3.2. </span>Creating or instantiating a dataframe<a class="headerlink" href="#creating-or-instantiating-a-dataframe" title="Permalink to this headline">#</a></h3>
<p>Like any object, a dataframe can be created by calling the constructor of the pandas class <code class="docutils literal notranslate"><span class="pre">dataframe</span></code>.</p>
<p>Each class has many constructors, so there are very many ways to create a <code class="docutils literal notranslate"><span class="pre">dataframe</span></code>. The <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame()</span></code> method is constructor for the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> class. It takes several forms (as with <code class="docutils literal notranslate"><span class="pre">Series</span></code>), but always returns an instance of a (instantiates) <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object – i.e. a variable that is a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p>The code example below creates a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> of three columns A,B,C; indexed between 2019 and 2021.  Macroeconomists may interpret the index as dates, but for pandas they are just numbers.</p>
<p>Below a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> named <code class="docutils literal notranslate"><span class="pre">df</span></code> is instantiated from a dictionary and assigned a specific index by passing a list of years as the index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="s1">&#39;C&#39;</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span><span class="s1">&#39;E&#39;</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]},</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">2018</span><span class="p">,</span><span class="mi">2019</span><span class="p">,</span><span class="mi">2020</span><span class="p">,</span><span class="mi">2021</span><span class="p">])</span>
<span class="n">df</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>1</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>1</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>1</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>1</td>
      <td>6</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">DataFrames</span></code> that are used in macrostructural models like MFMod, each  column can be interpreted as a time-series of an economic variable. So in this dataframe,  A, B and C woudl normally be interpreted as economic time series.</p>
<p>There is nothing in the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> class that suggests that the data it stores must be time-series or even numeric in nature.</p>
</div>
</section>
<section id="adding-a-column-to-a-dataframe">
<h3><span class="section-number">3.3.3. </span>Adding a column to a dataframe<a class="headerlink" href="#adding-a-column-to-a-dataframe" title="Permalink to this headline">#</a></h3>
<p>If a value is assigned to a column that does not exist, pandas will add a column with that name and fill it with values resulting from  the calculation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The size of the object assigned to the new column must match the size (number of rows) of the pre-existing <code class="docutils literal notranslate"><span class="pre">DataFarame</span></code>.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;NEW&quot;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">13</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
      <th>NEW</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>1</td>
      <td>3</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>1</td>
      <td>6</td>
      <td>4</td>
      <td>13</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="revising-values">
<h3><span class="section-number">3.3.4. </span>Revising values<a class="headerlink" href="#revising-values" title="Permalink to this headline">#</a></h3>
<p>If the column exists than the = method will revise the values of the rows with the values assigned in the statement.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The dimensions of the list assigned via the <code class="docutils literal notranslate"><span class="pre">=</span></code> method must be the same as the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (i.e. there must be exactly as many values as there are rows).  Alternatively if only one value is provided, then that value will replace all of the values in the specified column (be broadcast to the other rows in the column).</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;NEW&quot;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">14</span><span class="p">]</span>

<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
      <th>NEW</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>1</td>
      <td>1</td>
      <td>4</td>
      <td>11</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>1</td>
      <td>2</td>
      <td>4</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>1</td>
      <td>3</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>1</td>
      <td>6</td>
      <td>4</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># replace all of the rows of column B with the same value</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">=</span><span class="mi">17</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
      <th>NEW</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>17</td>
      <td>1</td>
      <td>4</td>
      <td>11</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>17</td>
      <td>2</td>
      <td>4</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>17</td>
      <td>3</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>17</td>
      <td>6</td>
      <td>4</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="column-names-in-modelflow">
<h2><span class="section-number">3.4. </span>Column names in  Modelflow<a class="headerlink" href="#column-names-in-modelflow" title="Permalink to this headline">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title">Modelflow variable names</p>
<p>Modelflow places more restrictions on column names than do pandas <em>per se</em>.</p>
</aside>
<p>While pandas dataframes are very liberal in what names can be given to columns, <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> is more restrictive.</p>
<p>Specifically, in modelflow a variable name must:</p>
<ul class="simple">
<li><p>start with a letter</p></li>
<li><p>be upper case</p></li>
</ul>
<p>Thus while all these are legal column names in pandas, some are illegal in modelflow.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-left head"><p>Variable Name</p></th>
<th class="text-left head"><p>Legal in</br> modelfow?</p></th>
<th class="text-left head"><p>Reason</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>IB</p></td>
<td class="text-left"><p>yes</p></td>
<td class="text-left"><p><span style='color:Green'>Starts with a letter and is uppercase</span></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>ib</p></td>
<td class="text-left"><p>no</p></td>
<td class="text-left"><p><span style='color:red'> lowercase letters are not allowed</span></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>42ANSWER</p></td>
<td class="text-left"><p>No</p></td>
<td class="text-left"><p><span style='color:Red'> does not start with a letter </span></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>_HORSE1</p></td>
<td class="text-left"><p>No</p></td>
<td class="text-left"><p><span style='color:Red'>does not start with a letter </span></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>A_VERY_LONG_NAME_THAT_IS_LEGAL_3</p></td>
<td class="text-left"><p>Yes</p></td>
<td class="text-left"><p><span style='color:Green'> Starts with a letter and is uppercase </span></p></td>
</tr>
</tbody>
</table>
</section>
<section id="index-and-time-dimensions-in-modelflow">
<h2><span class="section-number">3.5. </span>.index and time dimensions in Modelflow<a class="headerlink" href="#index-and-time-dimensions-in-modelflow" title="Permalink to this headline">#</a></h2>
<p>As we saw above, series have indices.  Dataframes also have indices, which are the row names of the dataframe.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> the index series is typically understood to represent a date.</p>
<p>For yearly models a list of integers like in the above example works fine.<br></p>
<p>For higher frequency models the index can be one of pandas datatypes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Not all datetypes work well with the graphics routines of modelflow.  Users are advised to use use the <code class="docutils literal notranslate"><span class="pre">pd.period_range()</span></code> method to generate date indexes.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">period_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1975q1&#39;</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39;2125q4&#39;</span><span class="p">,</span><span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">=</span><span class="n">dates</span>
</pre></div>
</div>
</div>
<section id="leads-and-lags">
<h3><span class="section-number">3.5.1. </span>Leads and lags<a class="headerlink" href="#leads-and-lags" title="Permalink to this headline">#</a></h3>
<p>In modelflow leads and lags can be indicated by following the variable with a parenthesis and either -1 or -2 two for one or two period lags (where the number following the negative sign indicates the number of time periods that are lagged). Positive numbers are used for forward leads (no +sign required).</p>
<p>When a method defined by the <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> class encounters something like <code class="docutils literal notranslate"><span class="pre">A(-1)</span></code>, it will take the value from the row above the current row. No matter if the index is an integer, a year, quarter or a millisecond. The same goes for leads, <code class="docutils literal notranslate"><span class="pre">A(+1)</span></code> will return the value of <code class="docutils literal notranslate"><span class="pre">A</span></code> in the next row.</p>
<p>As a result in a quarterly model <code class="docutils literal notranslate"><span class="pre">B=A(-4)</span></code> would assign B the value of A from the same quarter in the previous year.</p>
</section>
<section id="columns-lists-the-column-names-of-a-dataframe">
<h3><span class="section-number">3.5.2. </span>.columns lists the column names of a dataframe<a class="headerlink" href="#columns-lists-the-column-names-of-a-dataframe" title="Permalink to this headline">#</a></h3>
<p>The method <code class="docutils literal notranslate"><span class="pre">.columns</span></code> returns the names of the columns in the dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;B&#39;, &#39;C&#39;, &#39;E&#39;, &#39;NEW&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="size-indicates-the-dimension-of-a-list">
<h3><span class="section-number">3.5.3. </span>.size indicates the dimension of a list<a class="headerlink" href="#size-indicates-the-dimension-of-a-list" title="Permalink to this headline">#</a></h3>
<p>so <code class="docutils literal notranslate"><span class="pre">df.columns.size</span></code> returns the number of columns in a dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">size</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>The dataframe df has 4 columns.</p>
</section>
<section id="eval-evaluates-calculates-an-expression-on-the-data-of-a-dataframe">
<h3><span class="section-number">3.5.4. </span>.eval() evaluates calculates an expression on the data of a dataframe<a class="headerlink" href="#eval-evaluates-calculates-an-expression-on-the-data-of-a-dataframe" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">.eval</span></code> is a native dataframe method, which does calculations on a <code class="docutils literal notranslate"><span class="pre">dataframe</span></code> and returns a revised <code class="docutils literal notranslate"><span class="pre">datafame</span></code>. With this method expressions can be evaluated and new columns created.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;X = B*C</span>
<span class="s1">           THE_ANSWER = 42&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
      <th>NEW</th>
      <th>X</th>
      <th>THE_ANSWER</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>17</td>
      <td>1</td>
      <td>4</td>
      <td>11</td>
      <td>17</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>17</td>
      <td>2</td>
      <td>4</td>
      <td>12</td>
      <td>34</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>17</td>
      <td>3</td>
      <td>4</td>
      <td>10</td>
      <td>51</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>17</td>
      <td>6</td>
      <td>4</td>
      <td>14</td>
      <td>102</td>
      <td>42</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
      <th>NEW</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>17</td>
      <td>1</td>
      <td>4</td>
      <td>11</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>17</td>
      <td>2</td>
      <td>4</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>17</td>
      <td>3</td>
      <td>4</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>17</td>
      <td>6</td>
      <td>4</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>In the above example the resulting dataframe is displayed but is not stored.</p>
<p>To store it, the results of the calculation must be assigned to a variable.  The pre-existing dataframe can be overwritten by assigning it the result of the eval statement.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;X = B*C</span>
<span class="s1">           THE_ANSWER = 42&#39;&#39;&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
      <th>NEW</th>
      <th>X</th>
      <th>THE_ANSWER</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>17</td>
      <td>1</td>
      <td>4</td>
      <td>11</td>
      <td>17</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>17</td>
      <td>2</td>
      <td>4</td>
      <td>12</td>
      <td>34</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>17</td>
      <td>3</td>
      <td>4</td>
      <td>10</td>
      <td>51</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>17</td>
      <td>6</td>
      <td>4</td>
      <td>14</td>
      <td>102</td>
      <td>42</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>With this operation the new columns, x and THE_ANSWER have been appended to the dataframe df.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.eval()</span></code> method is a native pandas method.  As such it cannot handle lagged variables (because pandas do not support the idea of a lagged variable.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.mfcalc()</span></code> and the <code class="docutils literal notranslate"><span class="pre">.upd()</span></code> methods discussed below are <code class="docutils literal notranslate"><span class="pre">modelflow</span></code> features that extend the functionalities native to <code class="docutils literal notranslate"><span class="pre">dataframe</span></code> that allows such calculations to be performed.</p>
</div>
</section>
<section id="loc-selects-a-portion-slice-of-a-dataframe">
<h3><span class="section-number">3.5.5. </span>.loc[] selects a portion (slice) of a dataframe<a class="headerlink" href="#loc-selects-a-portion-slice-of-a-dataframe" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.loc[]</span></code> method allows you to display and/or revise specific sub-sections of a column or row in a dataframe.</p>
<section id="loc-row-column-a-single-element">
<h4><span class="section-number">3.5.5.1. </span>.loc[row,column] A single element<a class="headerlink" href="#loc-row-column-a-single-element" title="Permalink to this headline">#</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">.loc[row,column]</span></code> operates on a single cell in the dataframe.  Thus the below displays the value of the cell with index=2019 observation from the  column C.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2019</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
</section>
<section id="loc-column-a-single-column">
<h4><span class="section-number">3.5.5.2. </span>.loc[:,column] A single column<a class="headerlink" href="#loc-column-a-single-column" title="Permalink to this headline">#</a></h4>
<p>The lone colon in a loc statement indicates all the rows or columns.  Here all of the rows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;C&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2018    1
2019    2
2020    3
2021    6
Name: C, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="loc-row-a-single-row">
<h4><span class="section-number">3.5.5.3. </span>.loc[row,:] A single row<a class="headerlink" href="#loc-row-a-single-row" title="Permalink to this headline">#</a></h4>
<p>Here all of the columns, for the selected row.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2019</span><span class="p">,:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>B             17
C              2
E              4
NEW           12
X             34
THE_ANSWER    42
Name: 2019, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="loc-names-several-columns">
<h4><span class="section-number">3.5.5.4. </span>.loc[:,[names…]] Several columns<a class="headerlink" href="#loc-names-several-columns" title="Permalink to this headline">#</a></h4>
<p>Passing a list in either the rows or columns portion of the loc statement will allow multiple rows or columns to be displayed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="mi">2018</span><span class="p">,</span><span class="mi">2021</span><span class="p">],[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>17</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>17</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="loc-using-the-colon-to-select-a-range">
<h4><span class="section-number">3.5.5.5. </span>.loc using the colon to select a range<a class="headerlink" href="#loc-using-the-colon-to-select-a-range" title="Permalink to this headline">#</a></h4>
<p>with the colon operator we can also select a range of results.</p>
<p>Here from 2018 to 2019.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2018</span><span class="p">:</span><span class="mi">2020</span><span class="p">,[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>17</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>17</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>17</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="loc-can-also-be-used-on-the-left-hand-side-to-assign-values-to-specific-cells">
<h4><span class="section-number">3.5.5.6. </span>.loc[] can also be used on the left hand side to assign values to specific cells<a class="headerlink" href="#loc-can-also-be-used-on-the-left-hand-side-to-assign-values-to-specific-cells" title="Permalink to this headline">#</a></h4>
<p>This can be very handy when updating scenarios.<br></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2019</span><span class="p">:</span><span class="mi">2020</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>B</th>
      <th>C</th>
      <th>E</th>
      <th>NEW</th>
      <th>X</th>
      <th>THE_ANSWER</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>17</td>
      <td>1</td>
      <td>4</td>
      <td>11</td>
      <td>17</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>17</td>
      <td>17</td>
      <td>4</td>
      <td>12</td>
      <td>34</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>17</td>
      <td>17</td>
      <td>4</td>
      <td>10</td>
      <td>51</td>
      <td>42</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>17</td>
      <td>6</td>
      <td>4</td>
      <td>14</td>
      <td>102</td>
      <td>42</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The dimensions on the right hand side of = and the left hand side should match. That is: either the dimensions should be the same, or the right hand side should be <code class="docutils literal notranslate"><span class="pre">broadcasted</span></code> into the left hand slice.</p>
<p>For more on broadcasting <a class="reference external" href="https://jakevdp.github.io/PythonDataScienceHandbook/02.05-computation-on-arrays-broadcasting.html">see here</a></p>
</div>
<p><strong>For more info on the .loc[] method</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html">Description</a></p></li>
<li><p><a class="reference external" href="https://www.google.com/search?q=pandas+dataframe+loc&amp;newwindow=1">Search</a></p></li>
</ul>
<p><strong>For more info on pandas:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/">Pandas homepage</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/tutorials.html">Pandas community tutorials</a></p></li>
</ul>
</section>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content\04_PythonEssentials"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="Intro_Jupyter_notebook.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Introduction to  Jupyter Notebook</p>
      </div>
    </a>
    <a class="right-next"
       href="UpdateCommand.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">4. </span>Modelflow extensions to pandas</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">2. Some Python basics</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-python-in-windows">2.1. Starting python in windows</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#anaconda-navigator">2.2. Anaconda navigator</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-packages-libraries-and-classes">2.3. Python  packages, libraries and classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importing-packages-libraries-modules-and-classes">2.4. Importing packages, libraries, modules and classes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-specific-elements-or-classes-from-a-module-or-library">2.4.1. Import specific elements or classes from a module or library</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import-a-class-but-give-it-an-alias">2.4.2. import a class but give it an alias</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-aliases">2.4.3. Standard aliases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-pandas-dataframes">3. Introduction to Pandas dataframes</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-the-pandas-library">3.1. Import the pandas library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pandas-class-series">3.2. The <code class="docutils literal notranslate"><span class="pre">Pandas</span></code> class <code class="docutils literal notranslate"><span class="pre">series</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series-declared-from-a-list">3.2.1. Series declared from a list</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#series-declared-using-a-specific-index">3.2.2. Series declared using a specific index</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-series-from-a-dictionary">3.2.3. Create Series from a dictionary</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#properties-and-methods-of-dataframes-in-modelflow">3.3. Properties and methods of dataframes in modelflow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataframes">3.3.1. dataframes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-or-instantiating-a-dataframe">3.3.2. Creating or instantiating a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-a-column-to-a-dataframe">3.3.3. Adding a column to a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#revising-values">3.3.4. Revising values</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#column-names-in-modelflow">3.4. Column names in  Modelflow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#index-and-time-dimensions-in-modelflow">3.5. .index and time dimensions in Modelflow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#leads-and-lags">3.5.1. Leads and lags</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#columns-lists-the-column-names-of-a-dataframe">3.5.2. .columns lists the column names of a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size-indicates-the-dimension-of-a-list">3.5.3. .size indicates the dimension of a list</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eval-evaluates-calculates-an-expression-on-the-data-of-a-dataframe">3.5.4. .eval() evaluates calculates an expression on the data of a dataframe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-selects-a-portion-slice-of-a-dataframe">3.5.5. .loc[] selects a portion (slice) of a dataframe</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-row-column-a-single-element">3.5.5.1. .loc[row,column] A single element</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-column-a-single-column">3.5.5.2. .loc[:,column] A single column</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-row-a-single-row">3.5.5.3. .loc[row,:] A single row</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-names-several-columns">3.5.5.4. .loc[:,[names…]] Several columns</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-using-the-colon-to-select-a-range">3.5.5.5. .loc using the colon to select a range</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#loc-can-also-be-used-on-the-left-hand-side-to-assign-values-to-specific-cells">3.5.5.6. .loc[] can also be used on the left hand side to assign values to specific cells</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner">
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Andrew Burns and Ib Hansen
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright World Bank. 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>